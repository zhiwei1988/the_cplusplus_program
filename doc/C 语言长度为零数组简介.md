```c
struct xencomm_desc {
    uint32_t magic;
    uint32_t nr_addrs;
    uint64_t address[0];
}
````

长度为零的数组在标准 c 和 c++ 中是不允许的，如果使用长度为零的数组，编译时会产生错误，提示数组长度不能为零。但在 GNU C 中，这种用法却是合法的。它的最典型的用法就是位于结构体中的最后一项，**这样做主要是为了方便内存缓冲区的管理**。如果你将上面的长度为零的数组换为指针，那么在分配内存时，需采用两步：首先，需为结构体分配一块内存空间；其次再为结构体中的成员变量分配内存空间。**这样两次分配的内存是不连续的**，需要分别对其进行管理。当使用长度为零的数组时，则是采用一次分配的原则，一次性将所需的内存全部分配给它。相反，释放时也是一样的。